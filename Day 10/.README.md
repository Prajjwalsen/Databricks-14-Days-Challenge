# ğŸ¯ Day 10 â€“ Performance Optimization (Databricks)

## ğŸš€ Databricks 14 Days AI Challenge  
This document captures my learning and hands-on work for **Day 10** of the  
**Databricks 14 Days AI Challenge** by **Indian Data Club**.

---

## ğŸ“Œ Topics Covered
- Query execution plans
- Table partitioning strategies
- OPTIMIZE & Z-ORDER
- Query performance benchmarking
- Caching concepts & limitations

---

## ğŸ› ï¸ Tasks Completed

âœ… Analyzed query execution plans  
âœ… Created partitioned Delta tables  
âœ… Applied OPTIMIZE with Z-ORDER  
âœ… Benchmarked query performance  
âš ï¸ Explored caching limitations on Serverless compute  

---

## ğŸ§ª Hands-on Implementation

### ğŸ”¹ 1. Query Execution Plan Analysis
Analyzed Spark execution plans to understand how queries are optimized internally.

![Query Execution Plan](Screenshots/query_execution_plan.png)

---

### ğŸ”¹ 2. Partitioned Delta Table
Created a partitioned version of the Silver table to improve query pruning and performance.

![Partitioned Table](Screenshots/partitioned_table.png)

---

### ğŸ”¹ 3. OPTIMIZE & Z-ORDER
Applied OPTIMIZE with Z-ORDER to reduce file scanning and improve query speed.

![Optimize ZORDER](Screenshots/optimize_zorder.png)

---

### ğŸ”¹ 4. Query Benchmarking
Measured query execution time before and after optimization to validate performance improvements.

![Benchmark Query Time](Screenshots/benchmark_query_time.png)

---

### ğŸ”¹ 5. Table Verification
Verified all available tables after optimization steps.

![Show Tables](Screenshots/show_tables.png)

---

### ğŸ”¹ 6. Cache Table (Limitation Observed)
Attempted to cache a table for iterative query performance improvement.

![Cache Table](Screenshots/cache_table.png)

âš ï¸ **Note:**  
Caching could not be executed because **Databricks Community Edition uses Serverless Compute**, which does **not support `CACHE` or `PERSIST` operations**.  
This limitation is specific to Serverless environments and requires a dedicated (non-serverless) cluster.

---

## ğŸ§  Key Takeaways
- Query execution plans help in understanding Spark optimizations
- Partitioning significantly improves query pruning
- OPTIMIZE & Z-ORDER reduce file scanning overhead
- Benchmarking validates real performance gains
- Caching is not supported in Serverless compute (Community Edition)

---

## ğŸ“‚ Repository Structure
```text
Day-10/
â”‚
â”œâ”€â”€ README.md
â””â”€â”€ Screenshots/
    â”œâ”€â”€ query_execution_plan.png
    â”œâ”€â”€ partitioned_table.png
    â”œâ”€â”€ optimize_zorder.png
    â”œâ”€â”€ benchmark_query_time.png
    â”œâ”€â”€ show_tables.png
    â””â”€â”€ cache_table.png

